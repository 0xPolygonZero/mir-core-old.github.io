<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Identifier Structure - Mir</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        <!-- The following is taken from Ristretto: https://github.com/Ristretto/website/blob/master/site/theme/index.hbs -->
        

        <!-- Custom theme stuff -->
        <link rel="stylesheet" href="https://doc.dalek.rs/assets/katex/katex.min.css">
        <script src="https://doc.dalek.rs/assets/katex/katex.min.js"></script>
        <script src="https://doc.dalek.rs/assets/katex/contrib/auto-render.min.js"></script>
        <script>
        document.addEventListener("DOMContentLoaded", function() { renderMathInElement(document.body); });
        </script>
	      <!-- Comment out this style hook since mdbook's fonts are bigger than rustdoc's -->
        <style>
        .katex { font-size: 1em !important; }
        pre.rust, .docblock code, .docblock-short code { font-size: 0.85em !important; }
        </style>
	      <!-- -->
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">var path_to_root = "../";</script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = 'light'; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <ol class="chapter"><li><a href="../introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li><a href="../description.html"><strong aria-hidden="true">2.</strong> What is Mir?</a></li><li><a href="../why.html"><strong aria-hidden="true">3.</strong> Why Mir?</a></li><li><ol class="section"><li><a href="../why/criteria.html"><strong aria-hidden="true">3.1.</strong> Desired Properties</a></li><li><a href="../why/related.html"><strong aria-hidden="true">3.2.</strong> Related Work</a></li><li><a href="../why/advantages.html"><strong aria-hidden="true">3.3.</strong> Advantages of Mir</a></li></ol></li><li><a href="../protocol.html"><strong aria-hidden="true">4.</strong> Mir Protocol</a></li><li><ol class="section"><li><a href="../protocol/architecture.html"><strong aria-hidden="true">4.1.</strong> Architecture</a></li><li><a href="../protocol/address.html"><strong aria-hidden="true">4.2.</strong> Address Structure</a></li><li><ol class="section"><li><a href="../protocol/cryptographic_wills.html"><strong aria-hidden="true">4.2.1.</strong> Cryptographic Wills</a></li><li><a href="../protocol/format.html"><strong aria-hidden="true">4.2.2.</strong> Implementation</a></li><li><a href="../protocol/delegation.html"><strong aria-hidden="true">4.2.3.</strong> Untrusted Delegation</a></li></ol></li><li><a href="../protocol/identifier.html" class="active"><strong aria-hidden="true">4.3.</strong> Identifier Structure</a></li><li><ol class="section"><li><a href="../protocol/ownership.html"><strong aria-hidden="true">4.3.1.</strong> Proof of Ownership</a></li><li><a href="../protocol/zk_address_mapping.html"><strong aria-hidden="true">4.3.2.</strong> ZK Address Mapping</a></li></ol></li><li><a href="../protocol/validation.html"><strong aria-hidden="true">4.4.</strong> Validation</a></li><li><a href="../protocol/consensus.html"><strong aria-hidden="true">4.5.</strong> Consensus</a></li><li><a href="../protocol/security.html"><strong aria-hidden="true">4.6.</strong> Security</a></li><li><a href="../protocol/further_work.html"><strong aria-hidden="true">4.7.</strong> Further Work</a></li></ol></li><li><a href="../applications.html"><strong aria-hidden="true">5.</strong> Applications</a></li><li><ol class="section"><li><a href="../applications/authentication.html"><strong aria-hidden="true">5.1.</strong> Authentication</a></li><li><a href="../applications/transaction.html"><strong aria-hidden="true">5.2.</strong> Transaction</a></li><li><a href="../applications/communication.html"><strong aria-hidden="true">5.3.</strong> Communication</a></li><li><a href="../applications/walled.html"><strong aria-hidden="true">5.4.</strong> Network Effects</a></li></ol></li><li><a href="../faq.html"><strong aria-hidden="true">6.</strong> FAQ</a></li><li><a href="../organization.html"><strong aria-hidden="true">7.</strong> Organization</a></li></ol>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light <span class="default">(default)</span></button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Mir</h1>

                        <div class="right-buttons">
                            <a href="../print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <a class="header" href="#identifier-structure" id="identifier-structure"><h1>Identifier Structure</h1></a>
<p>A core design goal of Mir is to allow existing human-understandable identifiers to be verifiably mapped to unique addresses, without requiring cooperation from the issuers of identifiers. Other systems like Keybase have demonstrated that this is possible: users can post publicly-verifiable proofs of ownership on external services that point to names on another platform. However, the uniqueness property isn't efficiently verifiable. This is important, since an attacker could briefly compromise a user's social media account and edit a past post to be a proof of ownership for a malicious address, which would be difficult to detect.</p>
<p>Mir satisfies this condition with the following registration process. Let \( H:\{0,1\}^* \to \{0,1\}^{256} \) be a cryptographic hash function, let \(A\) be an address, and let \(i\) be a string that uniquely refers to an identifier (an email address, social media handle, etc). Let \( k = 0 \) be a counter. To register an identifier mapping on Mir, a user would first create a publicly-verifiable proof containing \( H( k || A) \). In Mir, namespaces are organized as domains and verification rules. Rules give the process for verifying a proof of ownership, and distinguish between different identifiers that are located on the same domain, like email addresses and social media accounts. For a domain string \(d\) and hashed verification rules \(v\), the full path to a leaf containing identifier mapping is generated as $$ I = H(d || v || i), I:H(k || p || A)  $$ for a pointer, \(p\), to the proof containing \( H( k || A) \).</p>
<p>Verifying a provided mapping consists of calculating the proof of inclusion in the identifier tree, and separately verifying the proof of ownership according to the verification rules. This could entail accessing a social media post, verifying a DKIM signature, or verifying a CONIKS proof. It's important to note that the only validation of an identifier mapping consists of verifying that the counter is properly incremented and that any signature data exposed to the protocol, as in DKIM or CONIKS, is valid. This process allows false mappings from identifiers like social media accounts to be registered, though this isn't a critical security risk, since the protocol requires checking the validity of the external proof separately from the proof of inclusion. The problem is that external resources can be manipulated, or unavailable for legitimate as well as illegitimate reasons, so forcing validators to stake tokens and vote on the validity of every external resource could have a negative effect.</p>
<p>Future work will examine how to mitigate this, possibly with some form of delegation and a challenge process, such that a user could delegate to a staked validator upon registration of an identifier mapping, and the validator's signature would be required on all subsequent updates. Users could challenge misbehaving validators, who would then lose their stake based on a vote. Another option would be to have a two-phase process, where an address would submit a transaction to prepare an identifier to be mapped, and another address could then pay tokens equal to the first address's transaction fee, multiplied by some factor, to challenge registration of an identifier mapping. This process would repeat, exponentially increasing the fee in a series of rounds, each lasting some number of blocks, until one party could no longer pay. The winning address would receive spent tokens back, less some fees, while the tokens belonging to the losing address would be burnt. This is an imperfect process, but it at least makes spamming or vacuously registering identifiers unpredictably unprofitable, which should be a disincentive.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../protocol/delegation.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../protocol/ownership.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="../protocol/delegation.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="../protocol/ownership.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
