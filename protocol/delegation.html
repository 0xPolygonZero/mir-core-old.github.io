<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Untrusted Delegation - Mir</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        <!-- The following is taken from Ristretto: https://github.com/Ristretto/website/blob/master/site/theme/index.hbs -->
        

        <!-- Custom theme stuff -->
        <link rel="stylesheet" href="https://doc.dalek.rs/assets/katex/katex.min.css">
        <script src="https://doc.dalek.rs/assets/katex/katex.min.js"></script>
        <script src="https://doc.dalek.rs/assets/katex/contrib/auto-render.min.js"></script>
        <script>
        document.addEventListener("DOMContentLoaded", function() { renderMathInElement(document.body); });
        </script>
	      <!-- Comment out this style hook since mdbook's fonts are bigger than rustdoc's -->
        <style>
        .katex { font-size: 1em !important; }
        pre.rust, .docblock code, .docblock-short code { font-size: 0.85em !important; }
        </style>
	      <!-- -->
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">var path_to_root = "../";</script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = 'light'; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <ol class="chapter"><li><a href="../introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li><a href="../description.html"><strong aria-hidden="true">2.</strong> What is Mir?</a></li><li><a href="../why.html"><strong aria-hidden="true">3.</strong> Why Mir?</a></li><li><ol class="section"><li><a href="../why/related.html"><strong aria-hidden="true">3.1.</strong> Related Work</a></li></ol></li><li><a href="../protocol.html"><strong aria-hidden="true">4.</strong> Mir Protocol</a></li><li><ol class="section"><li><a href="../protocol/architecture.html"><strong aria-hidden="true">4.1.</strong> Architecture</a></li><li><a href="../protocol/address.html"><strong aria-hidden="true">4.2.</strong> Address Structure</a></li><li><ol class="section"><li><a href="../protocol/cryptographic_wills.html"><strong aria-hidden="true">4.2.1.</strong> Cryptographic Wills</a></li><li><a href="../protocol/format.html"><strong aria-hidden="true">4.2.2.</strong> Format and Proof Structure</a></li><li><a href="../protocol/transition.html"><strong aria-hidden="true">4.2.3.</strong> Transition Rules</a></li><li><a href="../protocol/delegation.html" class="active"><strong aria-hidden="true">4.2.4.</strong> Untrusted Delegation</a></li></ol></li><li><a href="../protocol/identifier.html"><strong aria-hidden="true">4.3.</strong> Identifier Structure</a></li><li><ol class="section"><li><a href="../protocol/ownership.html"><strong aria-hidden="true">4.3.1.</strong> Proof of Ownership</a></li><li><a href="../protocol/zk_address_mapping.html"><strong aria-hidden="true">4.3.2.</strong> ZK Address Mapping</a></li></ol></li><li><a href="../protocol/consensus.html"><strong aria-hidden="true">4.4.</strong> Consensus</a></li><li><a href="../protocol/security.html"><strong aria-hidden="true">4.5.</strong> Security</a></li><li><a href="../protocol/further_work.html"><strong aria-hidden="true">4.6.</strong> Further Work</a></li></ol></li><li><a href="../applications.html"><strong aria-hidden="true">5.</strong> Applications</a></li><li><ol class="section"><li><a href="../applications/authentication.html"><strong aria-hidden="true">5.1.</strong> Authentication</a></li><li><a href="../applications/transaction.html"><strong aria-hidden="true">5.2.</strong> Transaction</a></li><li><a href="../applications/communication.html"><strong aria-hidden="true">5.3.</strong> Communication</a></li><li><a href="../applications/walled.html"><strong aria-hidden="true">5.4.</strong> Walled Gardens</a></li></ol></li><li><a href="../faq.html"><strong aria-hidden="true">6.</strong> FAQ</a></li><li><a href="../organization.html"><strong aria-hidden="true">7.</strong> Organization</a></li></ol>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light <span class="default">(default)</span></button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Mir</h1>

                        <div class="right-buttons">
                            <a href="../print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <a class="header" href="#untrusted-delegation" id="untrusted-delegation"><h1>Untrusted Delegation</h1></a>
<p>The main issue with censorship-resistant, peer-to-peer services is a lack of scale. Bitcoin is notorious for only supporting 7 transactions per second, and no other distributed service has been able to maintain a high transaction rate and security guarantees in production.</p>
<p>We believe that Mir can improve on the performance of existing services by implementing a Proof-of-Stake consensus mechanism, sharding, and using SNARKs to make validation more efficient and increase block size. However, it's difficult to see how any of these solutions could scale the transaction layer to support billions of users relying on Mir, especially if Mir is to maintain a globally consistent state layer for things like social networking. The goal is for Mir to be operable immediately, at Internet scale, without compromising on the security of the protocol.</p>
<p>One solution that might fill the gap between what is currently possible and the needs of billions of Internet users is called <strong>untrusted delegation</strong>. Recall that an address binding on Mir is expressed as: $$ A:V_n = A:H(K || V_{n-1} || C) $$ where \(K\) is the root hash of a Merkle tree and \(C\) is the hash of an encoding of a cryptographic will. \(K\) is intended to be the root of a tree of public keys, but a user can also set a leaf to be a pointer to an untrusted third-party service. This service could then provide address updates without committing them to the address tree.</p>
<p>The same security guarantees regarding malicious address bindings are still guaranteed by the cryptographic will and address itself - it would be impossible for the delegate service to provide a malicious binding without also proving a valid path from the value of the address in the address tree to the value of the malicious binding. Therefore, a user is only sacrificing consistency and censorship-resistance: it would be possible for a delegate to censor updates to an address or revert back to a previously-valid address. The worst-case isn't devastating though, since the user could just update the pointer to delegate a different service, or commit updates to the address tree directly.</p>
<p>This scheme offers decentralization-by-deterrence: delegate services are disincentivized from misbehaving because it's easy for users to exit and switch delegates. Users can use untrusted delegation to update their address bindings at a lower cost, and to provide global state for things like the value of a user's social networking profile at a particular time, or a pointer to a user's messaging or email provider.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../protocol/transition.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../protocol/identifier.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="../protocol/transition.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="../protocol/identifier.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
